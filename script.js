/*
üß© –ß—Ç–æ —Ç–∞–∫–æ–µ XMLHttpRequest (XHR)

XMLHttpRequest ‚Äî —ç—Ç–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤ –±—Ä–∞—É–∑–µ—Ä—ã –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å HTTP-–∑–∞–ø—Ä–æ—Å—ã –∫ —Å–µ—Ä–≤–µ—Ä—É –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

–ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏:
–û–Ω –¥–∞—ë—Ç JavaScript –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å ‚Äú–æ–±—â–∞—Ç—å—Å—è‚Äù —Å —Å–µ—Ä–≤–µ—Ä–æ–º ‚Äî –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∏—Ö –∏ –ø–æ–ª—É—á–∞—Ç—å –æ—Ç–≤–µ—Ç.

üï∏ –ü–æ—á–µ–º—É –æ–Ω –ø–æ—è–≤–∏–ª—Å—è?
–†–∞–Ω—å—à–µ, —á—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ, –Ω—É–∂–Ω–æ –±—ã–ª–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –≤—Å—é —Å—Ç—Ä–∞–Ω–∏—Ü—É.
–ù–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã –ø—Ä–∏–≤–æ–¥–∏–ª–∞ –∫ –ø–µ—Ä–µ—Ö–æ–¥—É –Ω–∞ –¥—Ä—É–≥—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º.

–ù–æ –±–ª–∞–≥–æ–¥–∞—Ä—è AJAX (Asynchronous JavaScript And XML), –ø–æ—è–≤–∏–ª–∞—Å—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å:
‚óè –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É –∏–∑ JavaScript;
‚óè –ø–æ–ª—É—á–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ –∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏—è);
‚óè –æ–±–Ω–æ–≤–ª—è—Ç—å —á–∞—Å—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã –±–µ–∑ –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏.

XMLHttpRequest —Å—Ç–∞–ª ‚Äú–¥–≤–∏–∂–∫–æ–º‚Äù AJAX.

üß† –ü—Ä–∏–º–µ—Ä –∏–∑ –∂–∏–∑–Ω–∏.
–ü—Ä–µ–¥—Å—Ç–∞–≤—å —Å–∞–π—Ç —Å –ø–æ–≥–æ–¥–æ–π üå§Ô∏è.
–ö–æ–≥–¥–∞ —Ç—ã –≤—ã–±–∏—Ä–∞–µ—à—å –¥—Ä—É–≥–æ–π –≥–æ—Ä–æ–¥ ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, –∞ —Ç–æ–ª—å–∫–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∏ –ø—Ä–æ–≥–Ω–æ–∑.

–ü–æ–¥ –∫–∞–ø–æ—Ç–æ–º —Ç–∞–º, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:

*   const xhr = new XMLHttpRequest();
*   xhr.open("GET", "https://api.example.com/weather?city=Moscow");
*   xhr.send();

‚Üí –ë—Ä–∞—É–∑–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä
‚Üí –°–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, JSON)
‚Üí JavaScript –æ–±–Ω–æ–≤–ª—è–µ—Ç DOM (–Ω–∞–ø—Ä–∏–º–µ—Ä, <span id="temp">+5¬∞C</span>)

üß© –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ XMLHttpRequest
| –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å            | –û–ø–∏—Å–∞–Ω–∏–µ                                                          |
| ---------------------- | ----------------------------------------------------------------- |
| –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö        | –ú–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ (POST, PUT –∏ –¥—Ä.)                         |
| –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö       | –ú–æ–∂–Ω–æ –ø–æ–ª—É—á–∞—Ç—å HTML, JSON, XML –∏ —Ç.–ø.                             |
| –ë–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏       | –í—Å—ë –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ                                         |
| –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–º    | –ú–æ–∂–Ω–æ —Å–ª–µ–¥–∏—Ç—å –∑–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏, –æ—Ç–º–µ–Ω—è—Ç—å –∑–∞–ø—Ä–æ—Å |
| –ü–æ–¥–¥–µ—Ä–∂–∫–∞ CORS         | –†–∞–±–æ—Ç–∞–µ—Ç —Å –∫—Ä–æ—Å—Å-–¥–æ–º–µ–Ω–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏ (–µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä —Ä–∞–∑—Ä–µ—à–∞–µ—Ç)      |


‚öôÔ∏è –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äú–≤–Ω—É—Ç—Ä–∏‚Äù
1. –¢—ã —Å–æ–∑–¥–∞—ë—à—å –æ–±—ä–µ–∫—Ç XMLHttpRequest().
2. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—à—å –µ–≥–æ (open(method, url)).
3. –û—Ç–ø—Ä–∞–≤–ª—è–µ—à—å –∑–∞–ø—Ä–æ—Å (send()).
4. –ñ–¥—ë—à—å, –ø–æ–∫–∞ —Å–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—Ç–∏—Ç.
5. –ö–æ–≥–¥–∞ –æ—Ç–≤–µ—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç, —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ onload ‚Äî –∏ —Ç—ã –º–æ–∂–µ—à—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ.

üí° –ò—Ç–æ–≥–æ
XMLHttpRequest ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É –±—Ä–∞—É–∑–µ—Ä–æ–º –∏ —Å–µ—Ä–≤–µ—Ä–æ–º –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
–û–Ω ‚Äî –ø—Ä–µ–¥—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ fetch(), –Ω–æ –¥–æ —Å–∏—Ö –ø–æ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–æ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö –∏ –ø–æ–ª–µ–∑–µ–Ω –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –º–µ—Ö–∞–Ω–∏–∫–∏ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤.
*/

/*
‚öôÔ∏è –≠—Ç–∞–ø 2. –°–æ–∑–¥–∞–Ω–∏–µ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞.

–ß—Ç–æ–±—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å, –Ω–∞–º –Ω—É–∂–Ω–æ –ø—Ä–æ–π—Ç–∏ —Ç—Ä–∏ —à–∞–≥–∞:

üß© 1. –°–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç.
*   const xhr = new XMLHttpRequest();

üëâ –ó–¥–µ—Å—å –º—ã —Å–æ–∑–¥–∞—ë–º —ç–∫–∑–µ–º–ø–ª—è—Ä –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –∏ –±—É–¥–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å—Å—è –∑–∞–ø—Ä–æ—Å–æ–º.

üß© 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∑–∞–ø—Ä–æ—Å.
*   xhr.open("GET", "https://jsonplaceholder.typicode.com/posts/1");

–ß—Ç–æ –¥–µ–ª–∞–µ—Ç open():
‚óè –ü–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç ‚Äî –º–µ—Ç–æ–¥ –∑–∞–ø—Ä–æ—Å–∞ (GET, POST, PUT, DELETE, –∏ —Ç.–¥.).
‚óè –í—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç ‚Äî URL, –∫—É–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å.
‚óè (–ï—Å—Ç—å –µ—â—ë —Ç—Ä–µ—Ç–∏–π, –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) ‚Äî true –∏–ª–∏ false:
    ‚óè true ‚Üí –∑–∞–ø—Ä–æ—Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî —Ç–∞–∫ –∏ –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å),
    ‚óè false ‚Üí —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π (—Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, —Ç.–∫. "–∑–∞–º–æ—Ä–∞–∂–∏–≤–∞–µ—Ç" —Å—Ç—Ä–∞–Ω–∏—Ü—É).

üîπ –ü—Ä–∏–º–µ—Ä:
xhr.open("GET", "https://api.example.com/data"); ‚Äî –∑–Ω–∞—á–∏—Ç:
‚Äú–ü–æ–¥–≥–æ—Ç–æ–≤—å –∑–∞–ø—Ä–æ—Å –º–µ—Ç–æ–¥–æ–º GET –ø–æ —ç—Ç–æ–º—É –∞–¥—Ä–µ—Å—É, –Ω–æ –ø–æ–∫–∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–π.‚Äù

üß© 3. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å

*   xhr.send();

üëâ –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

–ï—Å–ª–∏ —ç—Ç–æ GET ‚Äî –Ω–∏—á–µ–≥–æ –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–æ.
–ï—Å–ª–∏ —ç—Ç–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, POST, —Ç–æ –≤ —Å–∫–æ–±–∫–∞—Ö –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ (–º—ã —Ä–∞–∑–±–µ—Ä—ë–º —ç—Ç–æ –ø–æ–∑–∂–µ).

üîç –í—Å—ë –≤–º–µ—Å—Ç–µ

*   const xhr = new XMLHttpRequest(); 
*   xhr.open("GET", "https://jsonplaceholder.typicode.com/posts/1"); 
*   xhr.send(); 

üí° –ü–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ send() –±—Ä–∞—É–∑–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –∏ –∂–¥—ë—Ç –æ—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞.
–ù–æ –ø–æ–∫–∞ –º—ã –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—Ç–≤–µ—Ç ‚Äî —ç—Ç–æ –±—É–¥–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø.

üìò –ú–∏–Ω–∏-–æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω–æ–≤.
| –¢–µ—Ä–º–∏–Ω   | –ó–Ω–∞—á–µ–Ω–∏–µ                                                      |
| -------- | ------------------------------------------------------------- |
| **HTTP** | –ü—Ä–æ—Ç–æ–∫–æ–ª, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –±—Ä–∞—É–∑–µ—Ä –∏ —Å–µ—Ä–≤–µ—Ä ‚Äú—Ä–∞–∑–≥–æ–≤–∞—Ä–∏–≤–∞—é—Ç‚Äù        |
| **GET**  | –ú–µ—Ç–æ–¥ –∑–∞–ø—Ä–æ—Å–∞: –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞                      |
| **POST** | –ú–µ—Ç–æ–¥ –∑–∞–ø—Ä–æ—Å–∞: –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä                     |
| **URL**  | –ê–¥—Ä–µ—Å —Ä–µ—Å—É—Ä—Å–∞ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `https://site.com/data`) |

‚úÖ –ò—Ç–æ–≥–æ
1. –°–æ–∑–¥–∞—ë–º XMLHttpRequest.
2. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —á–µ—Ä–µ–∑ .open().
3. –û—Ç–ø—Ä–∞–≤–ª—è–µ–º .send().
*/

/*
üß© –≠—Ç–∞–ø 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞.

–ö–æ–≥–¥–∞ —Å–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç, —É –æ–±—ä–µ–∫—Ç–∞ XMLHttpRequest —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç —Å–æ–±—ã—Ç–∏—è.
–ì–ª–∞–≤–Ω–æ–µ –∏–∑ –Ω–∏—Ö ‚Äî load: –æ–Ω–æ –≥–æ–≤–æ—Ä–∏—Ç, —á—Ç–æ –æ—Ç–≤–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–ª—É—á–µ–Ω.

üß† –ü—Ä–∏–º–µ—Ä –ø—Ä–æ—Å—Ç–æ–≥–æ –∫–æ–¥–∞.

*   const xhr = new XMLHttpRequest();
*   xhr.open("GET", "https://jsonplaceholder.typicode.com/posts/1");
*   
*   xhr.onload = function() {
*     if (xhr.status === 200) {
*       console.log("–û—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞:", xhr.responseText);
*     } else {
*       console.error("–û—à–∏–±–∫–∞! –°—Ç–∞—Ç—É—Å:", xhr.status);
*     }
*   };
*   
*   xhr.send();

üîç –†–∞–∑–±–∏—Ä–∞–µ–º –ø–æ —à–∞–≥–∞–º.
üß© 1. xhr.onload = function() { ... }

–≠—Ç–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è load ‚Äî —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç, –∫–æ–≥–¥–∞ —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏—Å–ª–∞–ª –æ—Ç–≤–µ—Ç (–¥–∞–∂–µ –µ—Å–ª–∏ —Å –æ—à–∏–±–∫–æ–π, –Ω–∞–ø—Ä–∏–º–µ—Ä 404).

üß© 2. xhr.status
–≠—Ç–æ HTTP-–∫–æ–¥ —Å–æ—Å—Ç–æ—è–Ω–∏—è:
‚óè 200 ‚Äî –≤—Å—ë —Ö–æ—Ä–æ—à–æ ‚úÖ
‚óè 404 ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ ‚ùå
‚óè 500 ‚Äî –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ ‚ö†Ô∏è
‚óè 403 ‚Äî –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ üö´

üß© 3. xhr.responseText
–≠—Ç–æ —Ç–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ (—á–∞—â–µ –≤—Å–µ–≥–æ JSON-—Å—Ç—Ä–æ–∫–∞).
–ú—ã –º–æ–∂–µ–º –≤—ã–≤–µ—Å—Ç–∏ –µ–≥–æ –≤ –∫–æ–Ω—Å–æ–ª—å –∏–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å:

*   const data = JSON.parse(xhr.responseText);
*   console.log(data.title);

üß≠ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äú–≤ –º–æ–º–µ–Ω—Ç–µ‚Äù.
1. –¢—ã –≤—ã–∑—ã–≤–∞–µ—à—å xhr.send().
2. –ë—Ä–∞—É–∑–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –∏ –∂–¥—ë—Ç –æ—Ç–≤–µ—Ç.
3. –ö–æ–≥–¥–∞ –æ—Ç–≤–µ—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç:
‚óè –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è –≤ xhr.onload;
‚óè —Ç—ã –º–æ–∂–µ—à—å –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å;
‚óè –º–æ–∂–µ—à—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

‚ö†Ô∏è –ï—Å–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ —Å–µ—Ç–∏.
–ò–Ω–æ–≥–¥–∞ –∑–∞–ø—Ä–æ—Å –Ω–µ –¥–æ—Ö–æ–¥–∏—Ç –¥–æ —Å–µ—Ä–≤–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞).
–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç xhr.onerror:

*   xhr.onerror = function() {
*     console.error("–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è!");
*   };

üß© –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: onreadystatechange.
–≠—Ç–æ –±–æ–ª–µ–µ ‚Äú—Å—Ç–∞—Ä—ã–π‚Äù —Å–ø–æ—Å–æ–±.
–ö–æ–≥–¥–∞-—Ç–æ XHR –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Ç–∞–∫:

*   xhr.onreadystatechange = function() {
*     if (xhr.readyState === 4 && xhr.status === 200) {
*       console.log(xhr.responseText);
*     }
*   };

readyState ‚Äî —ç—Ç–æ ‚Äú—ç—Ç–∞–ø –∑–∞–≥—Ä—É–∑–∫–∏‚Äù (–æ—Ç 0 –¥–æ 4):
0 ‚Äî —Å–æ–∑–¥–∞–Ω,
1 ‚Äî –æ—Ç–∫—Ä—ã—Ç,
2 ‚Äî –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω,
3 ‚Äî –∏–¥—ë—Ç –∑–∞–≥—Ä—É–∑–∫–∞,
4 ‚Äî –∑–∞–≤–µ—Ä—à—ë–Ω (–æ—Ç–≤–µ—Ç –ø–æ–ª—É—á–µ–Ω).

–°–µ–π—á–∞—Å –æ–±—ã—á–Ω–æ –ø—Ä–æ—â–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å onload, –Ω–æ readyState –ø–æ–ª–µ–∑–Ω–æ –∑–Ω–∞—Ç—å.

‚úÖ –ò—Ç–æ–≥ –≠—Ç–∞–ø–∞ 3
| –ß—Ç–æ                 | –ö–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç       | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç                       |
| ------------------- | ------------------ | -------------------------------- |
| –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —É—Å–ø–µ—Ö–∞ | `xhr.onload = ...` | –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –æ—Ç–≤–µ—Ç –ø–æ–ª—É—á–µ–Ω |
| –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞       | `xhr.status`       | –£–∑–Ω–∞—ë–º, —É—Å–ø–µ—à–µ–Ω –ª–∏ –∑–∞–ø—Ä–æ—Å        |
| –ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö       | `xhr.responseText` | –°–æ–¥–µ—Ä–∂–∏—Ç –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞           |
| –û—à–∏–±–∫–∏ —Å–µ—Ç–∏         | `xhr.onerror`      | –õ–æ–≤–∏–º —Å–±–æ–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è            |

*/

/*
üß© –≠—Ç–∞–ø 4. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –∏ —Å–æ–±—ã—Ç–∏—è

1Ô∏è‚É£ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
–ö–æ–≥–¥–∞ –º—ã –≤—ã–∑—ã–≤–∞–µ–º:

*   xhr.open("GET", "https://jsonplaceholder.typicode.com/posts/1", true);
*   xhr.send();

‚óè –¢—Ä–µ—Ç–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç true ‚Äî –∑–Ω–∞—á–∏—Ç –∑–∞–ø—Ä–æ—Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π.
‚óè –≠—Ç–æ –∑–Ω–∞—á–∏—Ç: —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ ‚Äú–∑–∞–º–æ—Ä–∞–∂–∏–≤–∞–µ—Ç—Å—è‚Äù, –ø–æ–∫–∞ –∂–¥—ë—Ç –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞.
‚óè –ú—ã –º–æ–∂–µ–º –≤—ã–ø–æ–ª–Ω—è—Ç—å –¥—Ä—É–≥–∏–µ –¥–µ–π—Å—Ç–≤–∏—è, –ø–æ–∫–∞ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è.

–ï—Å–ª–∏ –ø–æ—Å—Ç–∞–≤–∏—Ç—å false, –±—Ä–∞—É–∑–µ—Ä –±—É–¥–µ—Ç –∂–¥–∞—Ç—å –æ—Ç–≤–µ—Ç–∞ –∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ ‚Äú–∑–∞–º—Ä—ë—Ç‚Äù ‚Äî –æ–±—ã—á–Ω–æ —Ç–∞–∫ –¥–µ–ª–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ.

2Ô∏è‚É£ –û—Å–Ω–æ–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è XMLHttpRequest
| –°–æ–±—ã—Ç–∏–µ    | –ö–æ–≥–¥–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç                                      |
| ---------- | ------------------------------------------------------ |
| `load`     | –ö–æ–≥–¥–∞ –æ—Ç–≤–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–ª—É—á–µ–Ω (—É—Å–ø–µ—Ö –∏–ª–∏ –æ—à–∏–±–∫–∞)       |
| `error`    | –ö–æ–≥–¥–∞ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ —Å–µ—Ç–∏ (–Ω–µ –ø—Ä–∏—à—ë–ª –æ—Ç–≤–µ—Ç)          |
| `abort`    | –ö–æ–≥–¥–∞ –∑–∞–ø—Ä–æ—Å –±—ã–ª –æ—Ç–º–µ–Ω—ë–Ω —á–µ—Ä–µ–∑ `xhr.abort()`           |
| `progress` | –ü–æ–∫–∞ –∏–¥—ë—Ç –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö (–º–æ–∂–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä) |

3Ô∏è‚É£ –ü—Ä–∏–º–µ—Ä —Å progress

*   const xhr = new XMLHttpRequest();
*   xhr.open("GET", "https://jsonplaceholder.typicode.com/posts");
*   
*   xhr.onprogress = function(event) {
*     if (event.lengthComputable) {
*       console.log(`–ó–∞–≥—Ä—É–∂–µ–Ω–æ ${event.loaded} –∏–∑ ${event.total} –±–∞–π—Ç`);
*     } else {
*       console.log(`–ó–∞–≥—Ä—É–∂–µ–Ω–æ ${event.loaded} –±–∞–π—Ç`);
*     }
*   };
*   
*   xhr.onload = function() {
*     console.log("–û—Ç–≤–µ—Ç –ø–æ–ª—É—á–µ–Ω:", xhr.responseText);
*   };
*   
*   xhr.onerror = function() {
*     console.error("–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è!");
*   };
*   
*   xhr.send();


‚óè event.loaded ‚Äî —Å–∫–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã—Ö —É–∂–µ –ø–æ–ª—É—á–µ–Ω–æ.
‚óè event.total ‚Äî –æ–±—â–∏–π —Ä–∞–∑–º–µ—Ä (–µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –µ–≥–æ —É–∫–∞–∑–∞–ª).
‚óè –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–≤.

4Ô∏è‚É£ readyState ‚Äî –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ —Å–æ–±—ã—Ç–∏—è–º.
readyState –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞:
| readyState | –°–æ—Å—Ç–æ—è–Ω–∏–µ                                  |
| ---------- | ------------------------------------------ |
| 0          | UNSENT ‚Äî –æ–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞–Ω, `open()` –Ω–µ –≤—ã–∑–≤–∞–Ω |
| 1          | OPENED ‚Äî –≤—ã–∑–≤–∞–Ω `open()`                   |
| 2          | HEADERS_RECEIVED ‚Äî –ø–æ–ª—É—á–µ–Ω—ã –∑–∞–≥–æ–ª–æ–≤–∫–∏      |
| 3          | LOADING ‚Äî –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è               |
| 4          | DONE ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞, –æ—Ç–≤–µ—Ç –≥–æ—Ç–æ–≤     |

–ü—Ä–∏–º–µ—Ä:

*   xhr.onreadystatechange = function() {
*     console.log("–°–æ—Å—Ç–æ—è–Ω–∏–µ:", xhr.readyState);
*     if (xhr.readyState === 4 && xhr.status === 200) {
*       console.log("–î–∞–Ω–Ω—ã–µ:", xhr.responseText);
*     }
*   };

–°–µ–π—á–∞—Å —á–∞—â–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç onload + onerror, –Ω–æ –ø–æ–ª–µ–∑–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å readyState.

‚úÖ –ò—Ç–æ–≥ –≠—Ç–∞–ø–∞ 4
‚óè XHR –æ–±—ã—á–Ω–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π ‚Üí —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è.
‚óè –ï—Å—Ç—å —Å–æ–±—ã—Ç–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏:
    ‚óè load ‚Äî –æ—Ç–≤–µ—Ç –ø–æ–ª—É—á–µ–Ω, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ;
    ‚óè progress ‚Äî –º–æ–∂–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É;
    ‚óè error ‚Äî –æ—à–∏–±–∫–∞ —Å–µ—Ç–∏;
    ‚óè abort ‚Äî –∑–∞–ø—Ä–æ—Å –æ—Ç–º–µ–Ω—ë–Ω.
‚óè readyState –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç—Ç–∞–ø—ã –∑–∞–ø—Ä–æ—Å–∞ (0‚Äì4).
*/

/*
üß© –≠—Ç–∞–ø 5. –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö (POST)
1Ô∏è‚É£ –ö–æ–≥–¥–∞ –Ω—É–∂–µ–Ω POST?
‚óè GET ‚Äî –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞.
‚óè POST ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ñ–æ—Ä–º—É, JSON, —Ñ–∞–π–ª).

–ü—Ä–∏–º–µ—Ä: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è, –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã –∑–∞–∫–∞–∑–∞.

2Ô∏è‚É£ –°–∏–Ω—Ç–∞–∫—Å–∏—Å POST-–∑–∞–ø—Ä–æ—Å–∞.

*   const xhr = new XMLHttpRequest();
*   xhr.open("POST", "https://jsonplaceholder.typicode.com/posts");
*   
    –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–∏
*   xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
*   
    –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–≤–µ—Ç–∞
*   xhr.onload = function() {
*     if (xhr.status === 201) {
*       console.log("–û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞:", xhr.responseText);
*     } else {
*       console.error("–û—à–∏–±–∫–∞:", xhr.status);
*     }
*   };
*   
    –î–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º
*   const data = {
*     title: "–ü—Ä–∏–≤–µ—Ç",
*     body: "–≠—Ç–æ —Ç–µ—Å—Ç",
*     userId: 1
*   };
*   
    –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ
*   xhr.send(JSON.stringify(data));


3Ô∏è‚É£ –†–∞–∑–±–∏—Ä–∞–µ–º –ø–æ —à–∞–≥–∞–º.
1. xhr.open("POST", url) ‚Äî —Å–æ–∑–¥–∞—ë–º POST-–∑–∞–ø—Ä–æ—Å.
2. xhr.setRequestHeader("Content-Type", "application/json") ‚Äî –≥–æ–≤–æ—Ä–∏–º —Å–µ—Ä–≤–µ—Ä—É, —á—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º JSON.
3. JSON.stringify(data) ‚Äî –ø—Ä–µ–≤—Ä–∞—â–∞–µ–º –æ–±—ä–µ–∫—Ç –≤ —Å—Ç—Ä–æ–∫—É, —á—Ç–æ–±—ã –µ–≥–æ –º–æ–∂–Ω–æ –±—ã–ª–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å.
4. xhr.send(data) ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –≤–º–µ—Å—Ç–µ —Å –¥–∞–Ω–Ω—ã–º–∏.
5. xhr.onload ‚Äî –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞.

4Ô∏è‚É£ –°—Ç–∞—Ç—É—Å—ã POST.
‚óè 201 Created ‚Äî –¥–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.
‚óè 400 Bad Request ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.
‚óè 500 Internal Server Error ‚Äî –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞.

5Ô∏è‚É£ –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã.
‚óè –ó–∞–≥–æ–ª–æ–≤–æ–∫ Content-Type –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω, –µ—Å–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º JSON –∏–ª–∏ —Ñ–æ—Ä–º—É.
‚óè –ú–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ JSON, –Ω–æ –∏ FormData –¥–ª—è —Ñ–∞–π–ª–æ–≤ –∏ —Ñ–æ—Ä–º:

* const formData = new FormData();
* formData.append("name", "–ò–≤–∞–Ω");
* formData.append("file", fileInput.files[0]);
* xhr.send(formData);

‚óè POST-–∑–∞–ø—Ä–æ—Å—ã –æ–±—ã—á–Ω–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).

‚úÖ –ò—Ç–æ–≥ –≠—Ç–∞–ø–∞ 5.
| –ß—Ç–æ                 | –ö–∞–∫ –¥–µ–ª–∞–µ–º                                                 |
| ------------------- | ---------------------------------------------------------- |
| –°–æ–∑–¥–∞—Ç—å POST-–∑–∞–ø—Ä–æ—Å | `xhr.open("POST", url)`                                    |
| –£–∫–∞–∑–∞—Ç—å —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö  | `xhr.setRequestHeader("Content-Type", "application/json")` |
| –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ  | `JSON.stringify(obj)` –∏–ª–∏ `FormData`                       |
| –û—Ç–ø—Ä–∞–≤–∏—Ç—å           | `xhr.send(data)`                                           |
| –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—Ç–≤–µ—Ç    | `xhr.onload` + –ø—Ä–æ–≤–µ—Ä–∫–∞ `xhr.status`                       |

*/

/*
üß© –≠—Ç–∞–ø 6. –û–±—Ä–∞–±–æ—Ç–∫–∞ JSON.

1Ô∏è‚É£ –ß—Ç–æ —Ç–∞–∫–æ–µ JSON?
‚óè JSON (JavaScript Object Notation) ‚Äî —ç—Ç–æ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö.
‚óè –í—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –æ–±—ä–µ–∫—Ç JavaScript:

*   {
*     "id": 1,
*     "title": "–ü—Ä–∏–≤–µ—Ç",
*     "body": "–≠—Ç–æ —Ç–µ—Å—Ç"
*   }

‚óè –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ: –ª–µ–≥–∫–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ –æ–±—ä–µ–∫—Ç JS —Å –ø–æ–º–æ—â—å—é JSON.parse().

2Ô∏è‚É£ –ü–æ–ª—É—á–µ–Ω–∏–µ JSON —Å —Å–µ—Ä–≤–µ—Ä–∞.

*   const xhr = new XMLHttpRequest();
*   xhr.open("GET", "https://jsonplaceholder.typicode.com/posts/1");
*   
*   xhr.onload = function() {
*     if (xhr.status === 200) {
*       –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º JSON-—Å—Ç—Ä–æ–∫—É –≤ –æ–±—ä–µ–∫—Ç JavaScript
*       const data = JSON.parse(xhr.responseText);
*       console.log("ID:", data.id);
*       console.log("Title:", data.title);
*       console.log("Body:", data.body);
*     } else {
*       console.error("–û—à–∏–±–∫–∞:", xhr.status);
*     }
*   };
*   
*   xhr.send();

3Ô∏è‚É£ –û—Ç–ø—Ä–∞–≤–∫–∞ JSON –Ω–∞ —Å–µ—Ä–≤–µ—Ä (POST).
–ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON –≤ –æ—Ç–≤–µ—Ç –Ω–∞ POST-–∑–∞–ø—Ä–æ—Å, –µ–≥–æ —Ç–æ–∂–µ –º–æ–∂–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Ç–∞–∫:

*   const xhr = new XMLHttpRequest();
*   xhr.open("POST", "https://jsonplaceholder.typicode.com/posts");
*   xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
*   
*   xhr.onload = function() {
*     if (xhr.status === 201) {
*       const response = JSON.parse(xhr.responseText);
*       console.log("–°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π –ø–æ—Å—Ç —Å ID:", response.id);
*     }
*   };
*   
*   const postData = { title: "–ù–æ–≤—ã–π –ø–æ—Å—Ç", body: "–ü—Ä–∏–º–µ—Ä —Ç–µ–∫—Å—Ç–∞", userId: 1 };
*   xhr.send(JSON.stringify(postData));

4Ô∏è‚É£ –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã.
1. –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π xhr.status, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏—à–ª–∏ —É—Å–ø–µ—à–Ω–æ.
2. JSON.parse() –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—Å—Ç –≤ –æ–±—ä–µ–∫—Ç JS.
3. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ–±—ä–µ–∫—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º JSON.stringify().
4. JSON ‚Äî —ç—Ç–æ —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç, –ø–æ—ç—Ç–æ–º—É –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–∏–º –Ω—É–∂–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å –≤ –æ–±—ä–µ–∫—Ç/–º–∞—Å—Å–∏–≤ JS.

‚úÖ –ò—Ç–æ–≥ –≠—Ç–∞–ø–∞ 6
‚óè –°–µ—Ä–≤–µ—Ä —á–∞—â–µ –≤—Å–µ–≥–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON.
‚óè –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º —Å –ø–æ–º–æ—â—å—é JSON.parse(xhr.responseText).
‚óè –î–∞–ª—å—à–µ –º–æ–∂–Ω–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –ø–æ–ª—è–º –æ–±—ä–µ–∫—Ç–∞ (data.title, data.id –∏ —Ç.–¥.).
‚óè –î–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ JSON ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º JSON.stringify() –∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ Content-Type: application/json.

*/

/*
üß© –≠—Ç–∞–ø 7. XMLHttpRequest vs fetch()

1Ô∏è‚É£ Fetch ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã.
fetch() ‚Äî —ç—Ç–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –±—Ä–∞—É–∑–µ—Ä–∞, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å (Promise) –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–∏—Å–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–æ—â–µ –∏ —á–∏—â–µ.

2Ô∏è‚É£ –ü—Ä–∏–º–µ—Ä GET-–∑–∞–ø—Ä–æ—Å–∞ —á–µ—Ä–µ–∑ fetch.

*   fetch("https://jsonplaceholder.typicode.com/posts/1")
*     .then(response => {
*       if (!response.ok) throw new Error("–û—à–∏–±–∫–∞ —Å–µ—Ç–∏");
*       return response.json(); // –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º JSON
*     })
*     .then(data => {
*       console.log("ID:", data.id);
*       console.log("Title:", data.title);
*     })
*     .catch(error => {
*       console.error("–û—à–∏–±–∫–∞:", error);
*     });

–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å XHR:
‚óè –ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç XMLHttpRequest.
‚óè –ù–µ—Ç onload, onerror –∏ readyState.
‚óè JSON –º–æ–∂–Ω–æ —Å—Ä–∞–∑—É –ø–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑ response.json().
‚óè –ö–æ–¥ –∫–æ–º–ø–∞–∫—Ç–Ω–µ–µ –∏ —á–∏—Ç–∞–µ—Ç—Å—è –∫–∞–∫ –æ–±—ã—á–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π.

3Ô∏è‚É£ –ü—Ä–∏–º–µ—Ä POST-–∑–∞–ø—Ä–æ—Å–∞ —á–µ—Ä–µ–∑ fetch.

*   fetch("https://jsonplaceholder.typicode.com/posts", {
*     method: "POST",
*     headers: {
*       "Content-Type": "application/json"
*     },
*     body: JSON.stringify({ title: "–ù–æ–≤—ã–π –ø–æ—Å—Ç", body: "–ü—Ä–∏–º–µ—Ä —Ç–µ–∫—Å—Ç–∞", userId: 1 })
*   })
*     .then(response => {
*       if (!response.ok) throw new Error("–û—à–∏–±–∫–∞ —Å–µ—Ç–∏");
*       return response.json();
*     })
*     .then(data => console.log("–°–æ–∑–¥–∞–Ω –ø–æ—Å—Ç —Å ID:", data.id))
*     .catch(error => console.error("–û—à–∏–±–∫–∞:", error));

4Ô∏è‚É£ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ fetch –ø–µ—Ä–µ–¥ XHR.
| –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ               | –ü–æ—á–µ–º—É –ª—É—á—à–µ                                                                |
| -------------------------- | --------------------------------------------------------------------------- |
| –ü—Ä–æ–º–∏—Å—ã                    | –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `.then()` –∏ `async/await` –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ |
| –ß–∏—â–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å             | –ù–µ—Ç –∫—É—á–∏ —Å–æ–±—ã—Ç–∏–π `onload`, `onerror` –∏ `onreadystatechange`                 |
| –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π API            | –õ–µ–≥–∫–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å JSON –∏ –¥—Ä—É–≥–∏–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏                                   |
| –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –ù–µ –Ω—É–∂–Ω–æ —è–≤–Ω–æ —Å—Ç–∞–≤–∏—Ç—å `true` –≤ `open()`                                     |

5Ô∏è‚É£ –û—Å–Ω–æ–≤–Ω—ã–µ –≤—ã–≤–æ–¥—ã.
‚óè XHR ‚Äî —É—Å—Ç–∞—Ä–µ–≤—à–∏–π, –Ω–æ –≤—Å—ë –µ—â—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–æ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö.
‚óè fetch() ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏ —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± —Ä–∞–±–æ—Ç—ã —Å HTTP-–∑–∞–ø—Ä–æ—Å–∞–º–∏.
‚óè –í—Å—ë, —á—Ç–æ –º—ã —É—á–∏–ª–∏ –ø—Ä–æ XHR, –ø–æ–º–æ–∂–µ—Ç –ø–æ–Ω—è—Ç—å, –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω—ã HTTP-–∑–∞–ø—Ä–æ—Å—ã, –¥–∞–∂–µ –µ—Å–ª–∏ –ø–æ—Ç–æ–º –∏—Å–ø–æ–ª—å–∑—É–µ–º fetch.

*/

/*
–ü–æ—á–µ–º—É –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ xhr.onload –º—ã –ø–∏—à–µ–º –¥–æ —Å—Ç—Ä–æ–∫–∏ xhr.send()?
–†–∞–∑–≤–µ –Ω–µ –ª–æ–≥–∏—á–Ω–µ–µ —Å–Ω–∞—á–∞–ª–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å (xhr.send()), –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç, –∞ —É–∂–µ –ø–æ—Ç–æ–º –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –µ–≥–æ?

–î–∞–≤–∞–π —Ä–∞–∑–±–µ—Ä—ë–º —ç—Ç–æ –ø–æ—à–∞–≥–æ–≤–æ, –∫–∞–∫ –±—É–¥—Ç–æ —ç—Ç–æ —Ä–∞–∑–≥–æ–≤–æ—Ä —Å –∫—É—Ä—å–µ—Ä–æ–º:
üì¶ –ê–Ω–∞–ª–æ–≥–∏—è —Å –∫—É—Ä—å–µ—Ä–æ–º

1. –¢—ã —Å–æ–∑–¥–∞—ë—à—å –∑–∞–∫–∞–∑:

*   const xhr = new XMLHttpRequest();
*   xhr.open("GET", "https://jsonplaceholder.typicode.com/posts/1");

‚Üí –¢—ã –æ—Ñ–æ—Ä–º–ª—è–µ—à—å –¥–æ—Å—Ç–∞–≤–∫—É: ‚Äú–•–æ—á—É –ø–æ–ª—É—á–∏—Ç—å –ø–æ—Å—ã–ª–∫—É —Å —Ç–∞–∫–∏–º-—Ç–æ –∞–¥—Ä–µ—Å–æ–º‚Äù.

2. –¢—ã –æ—Å—Ç–∞–≤–ª—è–µ—à—å —Å–≤–æ–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–æ–±—Ä–∞–±–æ—Ç—á–∏–∫):

*   xhr.onload = function() { ... };

‚Üí –¢—ã –≥–æ–≤–æ—Ä–∏—à—å: ‚Äú–ö–æ–≥–¥–∞ –ø–æ—Å—ã–ª–∫–∞ –ø—Ä–∏–µ–¥–µ—Ç ‚Äî –ø–æ–∑–≤–æ–Ω–∏ –º–Ω–µ, –∏ —è –ø—Ä–∏–º—É –µ—ë‚Äù.

3. –¢—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ—à—å –∑–∞–∫–∞–∑:

*   xhr.send();

‚Üí –ö—É—Ä—å–µ—Ä –≤—ã–µ—Ö–∞–ª üöö
*/
